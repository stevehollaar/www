var FoursquareCheckinModel=Backbone.Model.extend({"default":{type:null,isMayor:null,timeZoneOffset:null,venue:null},initialize:function(){}}),FoursquareCheckinCollection=Backbone.Collection.extend({model:FoursquareCheckinModel,url:"api/checkins",initialize:function(){this.fetch()},parse:function(e){this.set(e),this.trigger("updated")}}),AppModel=Backbone.Model.extend({defaults:{foursquareCheckins:null},initialize:function(){this.set("foursquareCheckins",new FoursquareCheckinCollection)}}),FoursquareCheckinsView=Backbone.View.extend({initialize:function(){this.listenTo(this.collection,"updated",this.render.bind(this))},render:function(){this.el.innerHTML=Templates.FoursquareCheckins({checkins:this.collection.toJSON()})}}),AppView=Backbone.View.extend({foursquareCheckinsView_:null,initialize:function(){var e=this.el.querySelector(".foursquare-checkins");e&&(this.foursquareCheckinsView_=new FoursquareCheckinsView({el:e,collection:this.model.get("foursquareCheckins")}))},render:function(){this.foursquareCheckinsView_&&this.foursquareCheckinsView_.render()}}),App;$(function(){App=new AppView({el:document.querySelector("body"),model:new AppModel})});var dateFormats={"short":"DD MMMM - YYYY","long":"ddd MMM DD, YYYY h:mma"};Handlebars.registerHelper("formatDate",function(e,n){return f=dateFormats[n],moment(e).format(f)}),Handlebars.registerHelper("formatSecondsDate",function(e,n){return f=dateFormats[n],moment(1e3*e).format(f)});